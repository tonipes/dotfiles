#! /usr/bin/python
import os
import sys
import getpass
import argparse
import subprocess
import libkeepass

def main(args):
    kp = None  # Keepass(args.path, password)
    run = True

    while run:
        while not kp:
            pw = get_password(args.path)
            tmp_kp = Keepass(args.path, pw)
            if tmp_kp.test_password():
                kp = tmp_kp
            else:
                print("Invalid password")
    with libkeepass.open(args.path, password='secret') as kdb:


if __name__ == '__main__':
    # Parse args
    parser = argparse.ArgumentParser()
    parser.add_argument('path', help='Path to keepass DB')

    args = parser.parse_args()
    main(args)
